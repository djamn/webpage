<div class="main-component-container">
  <header class="navbar-general">
    <a routerLink="/">
      <img [attr.src]="config.NAVBAR_LOGO_SRC" alt="logo" class="navbar-image"/>
    </a>
    <div class="navbar-desktop-menu">
      <nav class="navbar-links">
        <a *ngIf="(permissionService.hasPermission('view-admin-dashboard') | async)" class="navbar-link-style"
           routerLink="/dashboard">Dashboard</a>

        <!--        General Links -->
        <a *ngFor="let link of generalLinks" class="navbar-link-style" [routerLink]="link.path">
          {{ link.label }}
        </a>

        <!--        Logged in link -->
        <!--        <a *ngIf="getAuth().currentUser" class="navbar-links-style" routerLink="/">BANGER</a>-->

        <a *ngIf="(permissionService.hasPermission('manage-users') | async)" class="navbar-link-style"
           routerLink="/">Manage Users</a>
      </nav>

      <div class="navbar-buttons">
        <div class="language-switch-dropdown-main">
          <ng-select [items]="config.LANGUAGES"
                     [searchable]="false"
                     [clearable]="false"
                     (change)="onLanguageChange($event)"
                     [(ngModel)]="translate.currentLang">
            <ng-template ng-label-tmp let-item="item">
              <div class="language-switch-dropdown-label">
                <img class=language-switch-item-icon height="15" width="15"
                     [attr.src]="getAvatarByCode(translate.currentLang)" alt=""/>
                <span class="language-switch-item-name">{{ translate.currentLang | uppercase }}</span>
              </div>
            </ng-template>
            <ng-template ng-option-tmp let-item="item" let-index="index">
              <div class="language-switch-dropdown-label">
                <img class=language-switch-item-icon height="15" width="15" [attr.src]="item.icon" alt=""/>
                <span class="language-switch-item-name">{{ item.code | uppercase }}</span>
              </div>
            </ng-template>
          </ng-select>
        </div>
        <div *ngIf="!getAuth().currentUser">
          <a
            class="button-navbar navbar-button-login"
            routerLink="/login"
          >
            {{ 'NAVBAR.LOGIN_BUTTON' | translate }}
          </a>
          <a
            class="button-navbar navbar-button-register"
            routerLink="/register"
          >
            {{ 'NAVBAR.REGISTER_BUTTON' | translate }}
          </a>
        </div>
        <!--        TODO implement account settings -->
        <a *ngIf="getAuth().currentUser" class="navbar-account" routerLink="/account">
          <img
            src="/assets/no-image.svg"
            class="navbar-account-image"
            alt=""/>
        </a>
      </div>
    </div>
    <!--    Mobile -->
    <div class="navbar-burger-menu" (click)="toggleMenu()">
      <svg class="navbar-icon" viewBox="0 0 1024 1024">
        <path
          d="M128 554.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667zM128 298.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667zM128 810.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667z"
        ></path>
      </svg>
    </div>

    <!--    TODO mobile navbar classes besser integrieren -->
    <div class="navbar-mobile-menu navbar-general-mobile" [ngClass]="{'is-active': isMenuOpen}">
      <div class="navbar-nav">
        <div class="navbar-top">
          <img [src]="config.NAVBAR_LOGO_SRC" alt="image" class="navbar-logo"/>
          <div class="navbar-close-menu" (click)="closeMenu()">
            <svg class="navbar-icon2" viewBox="0 0 1024 1024">
              <path
                d="M810 274l-238 238 238 238-60 60-238-238-238 238-60-60 238-238-238-238 60-60 238 238 238-238z"
              ></path>
            </svg>
          </div>
        </div>
        <nav class="navbar-links-mobile">
          <a class="navbar-links-style-mobile" routerLink="/">
            About
          </a>
          <a class="navbar-links-style-mobile" routerLink="/bike-stations">
            Test
          </a>
        </nav>
        <div class="navbar-buttons-mobile">
          <a class="navbar-button-login-mobile button-navbar" routerLink="/login">
            {{ 'NAVBAR.LOGIN_BUTTON' | translate }}
          </a>
          <a class="button-navbar" routerLink="/register">
            {{ 'NAVBAR.REGISTER_BUTTON' | translate }}
          </a>
          <div class="dropdown-main">
            <ng-select [items]="config.LANGUAGES"
                       bindLabel="name"
                       bindValue="name"
                       [searchable]="false"
                       [clearable]="false"
                       placeholder="Select language"
                       (change)="onLanguageChange($event)"
                       [(ngModel)]="translate.currentLang">
              <ng-template ng-label-tmp let-item="item">
                <div class="dropdown-label">
                  <img class=item-icon height="15" width="15" [src]="getAvatarByCode(translate.currentLang)" alt=""/>
                  <span class="item-name">{{ translate.currentLang | uppercase }}</span>
                </div>
              </ng-template>
              <ng-template ng-option-tmp let-item="item" let-index="index">
                <div class="dropdown-label">
                  <img class=item-icon height="15" width="15" [src]="item.icon" alt=""/>
                  <span class="item-name">{{ item.code | uppercase }}</span>
                </div>
              </ng-template>
            </ng-select>
          </div>
        </div>
      </div>
    </div>
  </header>
</div>
