<div class="flex items-center justify-center">
  <div
    class="flex justify-start flex-col items-center relative rounded-lg w-[450px] max-sm:w-11/12 h-auto px-4 bg-white dark:bg-gray-700">
    <login-register-image-component class="w-full mt-4 mb-8"></login-register-image-component>
    <form (ngSubmit)="login()" [formGroup]="loginForm" class="flex flex-col items-center w-full h-full mb-4">
      <p>
        <mat-form-field class="small small-form-field" appearance="outline">
          <mat-label class="input-label">{{ 'LOGIN.USERNAME_OR_EMAIL_LABEL' | translate }}</mat-label>
          <input
            matInput
            type="text"
            formControlName="usernameOrEmail"
            class="login-input"
            [placeholder]="'LOGIN.USERNAME_OR_EMAIL_PLACEHOLDER' | translate"
            autocomplete="username"
          />

          <mat-error
            *ngIf="loginForm.get('usernameOrEmail')?.hasError('required')">{{ 'LOGIN.ERRORS.REQUIRED_FIELD' | translate }}
          </mat-error>
        </mat-form-field>
      </p>

      <p>
        <mat-form-field class="small small-form-field" appearance="outline">
          <mat-label class="input-label">{{ 'LOGIN.PASSWORD_LABEL' | translate }}</mat-label>
          <input
            matInput
            formControlName="password"
            autocomplete="new-password"
            [placeholder]="'LOGIN.PASSWORD_PLACEHOLDER' | translate"
            [type]="hidePassword ? 'password' : 'text'"
            class="login-input"/>
          <button
            type="button"
            mat-icon-button
            matSuffix
            (click)="togglePasswordVisibility($event)"
            [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hidePassword"
          >
            <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>
          <mat-error
            *ngIf="loginForm.get('password')?.hasError('required')">{{ 'LOGIN.ERRORS.REQUIRED_FIELD' | translate }}
          </mat-error>
        </mat-form-field>
      </p>

      <div class="flex flex-row w-full mb-2">
        <div class="w-1/2">
          <input class="checkbox"
                 id="remember-me-box"
                 type="checkbox"
                 (change)="updateCheckbox($event)"
                 value="">
          <label for="remember-me-box" class="text-hint-style">{{ 'LOGIN.REMEMBER_ME_TEXT' | translate }}</label>
        </div>
        <div class="w-1/2 flex justify-end">
          <a
            class="text-end  text-base text-link-style"
            routerLink="/reset-password">
            {{ 'LOGIN.FORGOT_PASSWORD_LINK_TEXT' | translate }}
          </a>
        </div>
      </div>

      <div class="w-full mb-2">
        <button class="w-full btn-primary btn-blue" type="submit">Login</button>
      </div>

      <span class="text-hint-style">{{ 'LOGIN.PRIVACY_HINT' | translate }}</span>

      <span class="mt-2 text-info-style">{{ 'LOGIN.NO_ACCOUNT_HINT' | translate }}</span>
      <a class="text-link-style"
         routerLink="/register">{{ 'LOGIN.REGISTER_LINK_TEXT' | translate }}</a>
    </form>


    <!--    TODO login processing animation -->
    <!--      <button type="button" class="bg-indigo-400 h-max w-max rounded-lg text-white font-bold hover:bg-indigo-300 hover:cursor-not-allowed duration-[500ms,800ms]" disabled>-->
    <!--        <div class="flex items-center justify-center m-[10px]">-->
    <!--          <div class="h-5 w-5 border-t-transparent border-solid animate-spin rounded-full border-white border-4"></div>-->
    <!--          <div class="ml-2"> Processing... </div>-->
    <!--          </div>-->
    <!--      </button>-->

  </div>
</div>
